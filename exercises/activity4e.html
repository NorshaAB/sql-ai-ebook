<!DOCTYPE html>
<html>
<head>
  <title>Activity 4E: CAR Database (AI-Enhanced)</title>
  <meta charset="UTF-8">
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    textarea { width: 100%; margin-top: 5px; }
    .feedback { font-weight: bold; margin-top: 5px; }
    button { margin-top: 10px; }
  </style>
</head>
<body>

<h1>Activity 4E: CAR Database (AI-Enhanced)</h1>

  <h3>CUSTOMER</h3>
<table border="1">
  <tr><th>CUSTID</th><th>CUSTNAME</th><th>CAR_NUMBER</th><th>PHONE_NUMBER</th><th>REGISTER_DATE</th></tr>
  <tr><td>C0001</td><td>David Teo</td><td>WUV2318</td><td>81691</td><td>2014-01-09</td></tr>
  <tr><td>C0002</td><td>Sulaiman Ali</td><td>JKJ9782</td><td>61291</td><td>2011-05-07</td></tr>
  <tr><td>C0003</td><td>Kang Gary</td><td>MAM123</td><td>41972</td><td>2010-06-13</td></tr>
  <tr><td>C0004</td><td>Ji Hyo</td><td>SA4888</td><td>11341</td><td>2012-09-26</td></tr>
  <tr><td>C0005</td><td>Karigalan</td><td>KUL511</td><td>21412</td><td>2003-07-18</td></tr>
</table>

<h3>CAR_COMPONENT</h3>
<table border="1">
  <tr><th>COMPID</th><th>COMPNAME</th><th>PRICE</th></tr>
  <tr><td>KK001</td><td>ISWARA Rear Lamp</td><td>100</td></tr>
  <tr><td>KK002</td><td>WIRA Front Bumper</td><td>450</td></tr>
  <tr><td>KK003</td><td>ISWARA Front Mirror</td><td>300</td></tr>
  <tr><td>KK004</td><td>WAJA Break Lamp</td><td>250</td></tr>
  <tr><td>KK005</td><td>WIRA Front Lamp</td><td>600</td></tr>
</table>

<h3>CLAIM</h3>
<table border="1">
  <tr><th>CLAIMID</th><th>CLAIM_DATE</th><th>CUSTID</th></tr>
  <tr><td>CL001</td><td>2014-04-19</td><td>C0005</td></tr>
  <tr><td>CL002</td><td>2014-01-28</td><td>C0001</td></tr>
  <tr><td>CL003</td><td>2014-02-20</td><td>C0003</td></tr>
  <tr><td>CL004</td><td>2014-09-30</td><td>C0002</td></tr>
  <tr><td>CL005</td><td>2014-12-07</td><td>C0004</td></tr>
</table>

<h3>COMPONENT_CLAIM</h3>
<table border="1">
  <tr><th>CLAIMID</th><th>COMPID</th><th>QUANTITY</th></tr>
  <tr><td>CL001</td><td>KK001</td><td>1</td></tr>
  <tr><td>CL003</td><td>KK003</td><td>2</td></tr>
  <tr><td>CL002</td><td>KK002</td><td>1</td></tr>
  <tr><td>CL005</td><td>KK005</td><td>1</td></tr>
  <tr><td>CL004</td><td>KK004</td><td>2</td></tr>
</table>

<hr>

<h2>Database Schema</h2>
<pre>
CUSTOMER(CUSTID, CUSTNAME, CAR_NUMBER, PHONE_NUMBER, REGISTER_DATE)
CAR_COMPONENT(COMPID, COMPNAME, PRICE)
CLAIM(CLAIMID, CLAIM_DATE, CUSTID)
COMPONENT_CLAIM(CLAIMID, COMPID, QUANTITY)
</pre>

<hr>

<script>
function checkAnswer(button, correctAnswers) {
  const container = button.parentElement;
  const textarea = container.querySelector("textarea");
  const feedback = container.querySelector(".feedback");
  const userAnswer = textarea.value.trim().toLowerCase().replace(/\s+/g, " ");

  // Normalize answers
  const normalizedCorrect = correctAnswers.map(answer =>
    answer.toLowerCase().replace(/\s+/g, " ").replace(/;/g, "").trim()
  );
  const normalizedUser = userAnswer.replace(/;/g, "").trim();

  if (normalizedCorrect.includes(normalizedUser)) {
    feedback.innerHTML = "‚úÖ Correct!";
    feedback.style.color = "green";
  } else {
    feedback.innerHTML = "‚ùå Try again. Example: " + correctAnswers[0];
    feedback.style.color = "red";
  }
}
</script>


<!-- QUESTIONS -->
<ol>
  <li>
    <p><b>Create table CUSTOMER.</b></p>
    <p>Details are as follow : CUSTID VARCHAR(5) PRIMARY KEY, CUSTNAME VARCHAR(100), CAR_NUMBER VARCHAR(10), PHONE_NUMBER VARCHAR(15), REGISTER_DATE DATE</p>
     <textarea rows="5" placeholder="Write your SQL here..."></textarea>
  <br>
  <button onclick="checkAnswer(this, ['create table customer (custid text, custname text, car_number text, phone_number text, register_date date);'])">Check Answer</button>
  <p class="feedback"></p>

  <button class="collapsible">üí° Show Hint</button>
  <div class="hint-content">
    Use the <code>CREATE TABLE</code> SQL command to define each table. Specify column names and data types, such as <code>TEXT</code> for names and <code>DATE</code> for dates. Each statement should end with a semicolon.
  </div>
  </li>

  <li>
    <p><b>Insert all data into each table.</b></p>
    <textarea rows="6" placeholder="Write your SQL here..."></textarea>
    <br>
    <button onclick="checkAnswer(this, [
      'INSERT INTO CUSTOMER VALUES (\'C0001\', \'David Teo\', \'WUV2318\', \'81691\', \'2014-01-09\')',
      'insert into customer values (\'c0001\', \'david teo\', \'wuv2318\', \'81691\', \'2014-01-09\')'
    ])">Check Answer</button>
    <p class="feedback"></p>
  </li>

  <li>
    <p><b>Type SQL command to find customer name from CUSTOMER table.</b></p>
    <textarea rows="3" placeholder="Write your SQL here..."></textarea>
    <br>
    <button onclick="checkAnswer(this, [
      'SELECT CUSTNAME FROM CUSTOMER',
      'select custname from customer'
    ])">Check Answer</button>
    <p class="feedback"></p>
  </li>

  <li>
    <p><b>Type SQL command to display component ID, component name and price is between 200 and 400.</b></p>
    <textarea rows="3" placeholder="Write your SQL here..."></textarea>
    <br>
    <button onclick="checkAnswer(this, [
      'SELECT COMPID, COMPNAME, PRICE FROM CAR_COMPONENT WHERE PRICE BETWEEN 200 AND 400',
      'select compid, compname, price from car_component where price >= 200 and price <= 400'
    ])">Check Answer</button>
    <p class="feedback"></p>
  </li>

  <li>
    <p><b>Type SQL command to display car number begin with J.</b></p>
    <textarea rows="3" placeholder="Write your SQL here..."></textarea>
    <br>
    <button onclick="checkAnswer(this, [
      'SELECT CAR_NUMBER FROM CUSTOMER WHERE CAR_NUMBER LIKE \'J%\'',
      'select car_number from customer where car_number like \'j%\''
    ])">Check Answer</button>
    <p class="feedback"></p>
  </li>

  <li>
    <p><b>Type SQL command to display claimID and quantity where claim number is CL001 and CL004.</b></p>
    <textarea rows="3" placeholder="Write your SQL here..."></textarea>
    <br>
    <button onclick="checkAnswer(this, [
      'SELECT CLAIMID, QUANTITY FROM COMPONENT_CLAIM WHERE CLAIMID IN (\'CL001\', \'CL004\')',
      'select claimid, quantity from component_claim where claimid = \'CL001\' or claimid = \'CL004\''
    ])">Check Answer</button>
    <p class="feedback"></p>
  </li>

  <li>
    <p><b>Type SQL command to find the minimum value for price in the CAR_COMPONENT table.</b></p>
    <textarea rows="3" placeholder="Write your SQL here..."></textarea>
    <br>
    <button onclick="checkAnswer(this, [
      'SELECT MIN(PRICE) FROM CAR_COMPONENT',
      'select min(price) from car_component'
    ])">Check Answer</button>
    <p class="feedback"></p>
  </li>

  <li>
    <p><b>Type SQL command to find the maximum value for price in the CAR_COMPONENT table.</b></p>
    <textarea rows="3" placeholder="Write your SQL here..."></textarea>
    <br>
    <button onclick="checkAnswer(this, [
      'SELECT MAX(PRICE) FROM CAR_COMPONENT',
      'select max(price) from car_component'
    ])">Check Answer</button>
    <p class="feedback"></p>
  </li>

  <li>
    <p><b>Type SQL command to find the average value for price in the CAR_COMPONENT table.</b></p>
    <textarea rows="3" placeholder="Write your SQL here..."></textarea>
    <br>
    <button onclick="checkAnswer(this, [
      'SELECT AVG(PRICE) FROM CAR_COMPONENT',
      'select avg(price) from car_component'
    ])">Check Answer</button>
    <p class="feedback"></p>
  </li>

  <li>
    <p><b>Type SQL command to find the sum of price in the CAR_COMPONENT table.</b></p>
    <textarea rows="3" placeholder="Write your SQL here..."></textarea>
    <br>
    <button onclick="checkAnswer(this, [
      'SELECT SUM(PRICE) FROM CAR_COMPONENT',
      'select sum(price) from car_component'
    ])">Check Answer</button>
    <p class="feedback"></p>
  </li>

  <li>
    <p><b>Type SQL command to count the number of customers.</b></p>
    <textarea rows="3" placeholder="Write your SQL here..."></textarea>
    <br>
    <button onclick="checkAnswer(this, [
      'SELECT COUNT(*) FROM CUSTOMER',
      'select count(custid) from customer',
      'select count(*) from customer'
    ])">Check Answer</button>
    <p class="feedback"></p>
  </li>
</ol>

</body>
</html>
